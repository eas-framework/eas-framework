var ct=Object.defineProperty,pt=Object.defineProperties;var gt=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var ht=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable;var N=(n,t,e)=>t in n?ct(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,$=(n,t)=>{for(var e in t||(t={}))ht.call(t,e)&&N(n,e,t[e]);if(B)for(var e of B(t))ft.call(t,e)&&N(n,e,t[e]);return n},U=(n,t)=>pt(n,gt(t));var c=(n,t)=>()=>(n&&(t=n(n=0)),t);var dt,p,L=c(()=>{dt=!0,p=new Proxy(console,{get(n,t,e){return t=="important"?n.error:dt&&t!="do-nothing"?n[t]:()=>{}}})});import f,{Dirent as Ut}from"fs";import mt from"path";function S(n){return new Promise(t=>{f.stat(n,(e,r)=>{t(Boolean(r))})})}function q(n,t,e,r={}){return new Promise(i=>{f.stat(n,(a,o)=>{a&&!e&&p.error(a),i(t&&o?o[t]:o||r)})})}async function bt(n,t=!0){return(await q(n,void 0,!0)).isFile?.()&&t}function G(n){return new Promise(t=>{f.mkdir(n,e=>{e&&p.error(e),t(!e)})})}function St(n){return new Promise(t=>{f.rmdir(n,e=>{e&&p.error(e),t(!e)})})}function J(n){return new Promise(t=>{f.unlink(n,e=>{e&&p.error(e),t(!e)})})}async function xt(n){return await S(n)?await J(n):!1}function yt(n,t={}){return new Promise(e=>{f.readdir(n,t,(r,i)=>{r&&p.error(r),e(i||[])})})}async function H(n){return await S(n)?!1:await G(n)}function z(n,t){return new Promise(e=>{f.writeFile(n,t,r=>{r&&p.error(r),e(!r)})})}async function Tt(n,t){try{return await z(n,JSON.stringify(t))}catch(e){p.error(e)}return!1}function _(n,t="utf8"){return new Promise(e=>{f.readFile(n,t,(r,i)=>{r&&p.error(r),e(i||"")})})}async function wt(n,t){try{return JSON.parse(await _(n,t))}catch(e){p.error(e)}return{}}async function At(n,t=""){if(n=mt.dirname(n),!await S(t+n)){let e=n.split(/\\|\//),r="";for(let i of e)r.length&&(r+="/"),r+=i,await H(t+r)}}var h,M=c(()=>{L();h=U($({},f.promises),{exists:S,existsFile:bt,stat:q,mkdir:G,mkdirIfNotExists:H,writeFile:z,writeJsonFile:Tt,readFile:_,readJsonFile:wt,rmdir:St,unlink:J,unlinkIfExists:xt,readdir:yt,makePathReal:At})});function P(n,t){let e=t.indexOf(n);return e==-1?[t]:[t.substring(0,e),t.substring(e+n.length)]}var I=c(()=>{});import{cwd as Ct}from"process";import w from"path";import{fileURLToPath as kt}from"url";function Dt(n){return w.dirname(kt(n))}function F(){return w.join(A,v,"/")}function b(n){return F()+n+"/"}var R,v,m,y,K,Lt,Mt,Pt,A,x,T,d,u,C=c(()=>{M();I();R=w.join(Dt(import.meta.url),"/SystemData"),v="WebSite",m="WWW",y="Logs",K="node_modules",Lt=R+`/${m}Compile/`,Mt=R+`/${y}Compile/`,Pt=R+`/${K}Compile/`,A=Ct()+"/";x=F();T={Static:[b(m),Lt,m],Logs:[b(y),Mt,y],node_modules:[b("node_modules"),Pt,K],get[m](){return T.Static}},d={page:"page",model:"mode",component:"inte"},u={pageTypes:d,pageTypesArray:[],pageCodeFile:{page:[d.page+".js",d.page+".ts"],model:[d.model+".js",d.model+".ts"],component:[d.component+".js",d.component+".ts"]},pageCodeFileArray:[],partExtensions:["serv","api"],ReqFileTypes:{js:"serv.js",ts:"serv.ts","api-ts":"api.js","api-js":"api.ts"},ReqFileTypesArray:[],get WebSiteFolder(){return v},get fullWebSitePath(){return x},set WebSiteFolder(n){v=n,x=F(),T.Static[0]=b(m),T.Logs[0]=b(y)},get tsConfig(){return x+"tsconfig.json"},async tsConfigFile(){if(await h.existsFile(this.tsConfig))return await h.readFile(this.tsConfig)},relative(n){return w.relative(x,n)}};u.pageTypesArray=Object.values(u.pageTypes);u.pageCodeFileArray=Object.values(u.pageCodeFile).flat();u.ReqFileTypesArray=Object.values(u.ReqFileTypes)});import{SourceMapConsumer as re,SourceMapGenerator as ne}from"source-map";function Q(n,t){let e=`sourceMappingURL=data:application/json;charset=utf-8;base64,${Buffer.from(n.toString()).toString("base64")}`;return t?e=`/*# ${e}*/`:e="//# "+e,`\r
`+e}var X=c(()=>{});import{SourceMapGenerator as It,SourceMapConsumer as se}from"source-map";import k from"path";var O,Y=c(()=>{C();I();X();O=class{constructor(t,e=!0,r=!1,i=!1){this.filePath=t;this.httpSource=e;this.relative=r;this.isCss=i;this.lineCount=0;this.map=new It({file:t.split(/\/|\\/).pop()}),e||(this.fileDirName=k.dirname(this.filePath))}getSource(t){return t=t.split("<line>").pop().trim(),this.httpSource?(u.pageTypesArray.includes(k.extname(t).substring(1))?t+=".source":t=P("/",t).pop()+"?source=true",k.normalize((this.relative?"":"/")+t.replace(/\\/gi,"/"))):k.relative(this.fileDirName,u.fullWebSitePath+t)}getRowSourceMap(){return this.map.toJSON()}mapAsURLComment(){return Q(this.map,this.isCss)}}});function Z(n,t,e,r){let i=new W(t,e,r);return i.addMappingFromTrack(n),i.getRowSourceMap()}function V(n,t){let e=new W(t);return e.addMappingFromTrack(n),n.eq+e.mapAsURLComment()}var W,tt=c(()=>{Y();W=class extends O{constructor(t,e=!1,r=!1){super(t,e,r);this.lineCount=1}addMappingFromTrack(t){let e=t.getDataArray(),r=e.length,i=!0;for(let a=0;a<r;a++){let{text:o,line:s,info:g}=e[a];if(o==`
`){this.lineCount++,i=!1;continue}!i&&s&&g&&(i=!0,this.map.addMapping({original:{line:s,column:0},generated:{line:this.lineCount,column:0},source:this.getSource(g)}))}}}});var l,et=c(()=>{C();tt();l=class{constructor(t,e){this.DataArray=[];this.InfoText=null;this.OnLine=1;this.OnChar=1;typeof t=="string"?this.InfoText=t:t&&this.setDefault(t),e&&this.AddFileText(e,this.DefaultInfoText.info)}static get emptyInfo(){return{info:"",line:0,char:0}}setDefault(t=this.DefaultInfoText){this.InfoText=t.info,this.OnLine=t.line,this.OnChar=t.char}getDataArray(){return this.DataArray}get DefaultInfoText(){return!this.DataArray.find(t=>t.info)&&this.InfoText!=null?{info:this.InfoText,line:this.OnLine,char:this.OnChar}:this.DataArray[this.DataArray.length-1]??l.emptyInfo}get StartInfo(){return this.DataArray[0]??this.DefaultInfoText}get OneString(){let t="";for(let e of this.DataArray)t+=e.text;return t}get eq(){return this.OneString}get lineInfo(){let t=this.DefaultInfoText,e=t.info.split("<line>");return e.push(u.fullWebSitePath+e.pop()),`${e.join("<line>")}:${t.line}:${t.char}`}get length(){return this.DataArray.length}Clone(){let t=new l(this.StartInfo);for(let e of this.DataArray)t.AddTextAfter(e.text,e.info,e.line,e.char);return t}AddClone(t){this.DataArray.push(...t.DataArray),this.setDefault({info:t.InfoText,line:t.OnLine,char:t.OnChar})}static concat(...t){let e=new l;for(let r of t)r instanceof l?e.AddClone(r):e.AddTextAfter(String(r));return e}ClonePlus(...t){return l.concat(this.Clone(),...t)}Plus(...t){let e=this.DefaultInfoText;for(let r of t)r instanceof l?(e=r.DefaultInfoText,this.AddClone(r)):this.AddTextAfter(String(r),e.info,e.line,e.char);return this}Plus$(t,...e){let r=this.DefaultInfoText;for(let i in e){let a=t[i],o=e[i];this.AddTextAfter(a,r?.info,r?.line,r?.char),o instanceof l?(this.AddClone(o),r=o.DefaultInfoText):o!=null&&this.AddTextAfter(String(o),r?.info,r?.line,r?.char)}return this.AddTextAfter(t[t.length-1],r?.info,r?.line,r?.char),this}AddTextAction(t,e,r=this.DefaultInfoText.info,i=0,a=1){let o=[];for(let s of[...t])o.push({text:s,info:r,line:i,char:a}),a++,s==`
`&&(i++,a=1);this.DataArray[e](...o)}AddTextAfter(t,e,r,i){return this.AddTextAction(t,"push",e,r,i),this}AddTextAfterNoTrack(t){for(let e of t)this.DataArray.push({text:e,info:"",line:0,char:0});return this}AddTextBefore(t,e,r,i){return this.AddTextAction(t,"unshift",e,r,i),this}AddTextBeforeNoTrack(t){let e=[];for(let r of t)e.push({text:r,info:"",line:0,char:0});return this.DataArray.unshift(...e),this}AddFileText(t,e=this.DefaultInfoText.info){let r=1,i=1;for(let a of[...t])this.DataArray.push({text:a,info:e,line:r,char:i}),i++,a==`
`&&(r++,i=1)}CutString(t=0,e=this.length){let r=new l(this.StartInfo);return r.DataArray.push(...this.DataArray.slice(t,e)),r}substring(t,e){return isNaN(e)?e=void 0:e=Math.abs(e),isNaN(t)?t=void 0:t=Math.abs(t),this.CutString(t,e)}substr(t,e){return t<0&&(t=this.length-t),this.substring(t,e!=null?e+t:e)}slice(t,e){return t<0&&(t=this.length-t),e<0&&(t=this.length-t),this.substring(t,e)}charAt(t){return t||(t=0),this.CutString(t,t+1)}at(t){return this.charAt(t)}charCodeAt(t){return this.charAt(t).OneString.charCodeAt(0)}codePointAt(t){return this.charAt(t).OneString.codePointAt(0)}*[Symbol.iterator](){for(let t of this.DataArray){let e=new l;e.DataArray.push(t),yield e}}getLine(t,e=!0){return this.split(`
`)[t-+e]}charLength(t){if(t<=0)return t;let e=0;for(let r of this.DataArray)if(e++,t-=r.text.length,t<=0)return e;return e}indexOf(t){return this.charLength(this.OneString.indexOf(t))}lastIndexOf(t){return this.charLength(this.OneString.lastIndexOf(t))}unicodeMe(t){let e="";for(let r of t)e+="\\u"+("000"+r.charCodeAt(0).toString(16)).slice(-4);return e}get unicode(){let t=new l;for(let e of this.DataArray)t.AddTextAfter(this.unicodeMe(e.text),e.info,e.line,e.char);return t}search(t){return this.charLength(this.OneString.search(t))}startsWith(t,e){return this.OneString.startsWith(t,e)}endsWith(t,e){return this.OneString.endsWith(t,e)}includes(t,e){return this.OneString.includes(t,e)}trimStart(){let t=this.Clone();t.setDefault();for(let e=0;e<t.DataArray.length;e++){let r=t.DataArray[e];if(r.text.trim()=="")t.DataArray.shift(),e--;else{r.text=r.text.trimStart();break}}return t}trimLeft(){return this.trimStart()}trimEnd(){let t=this.Clone();t.setDefault();for(let e=t.DataArray.length-1;e>=0;e--){let r=t.DataArray[e];if(r.text.trim()=="")t.DataArray.pop();else{r.text=r.text.trimEnd();break}}return t}trimRight(){return this.trimEnd()}trim(){return this.trimStart().trimEnd()}SpaceOne(t){let e=this.at(0),r=this.at(this.length-1),i=this.Clone().trim();return e.eq&&i.AddTextBefore(t||e.eq,e.DefaultInfoText.info,e.DefaultInfoText.line,e.DefaultInfoText.char),r.eq&&i.AddTextAfter(t||r.eq,r.DefaultInfoText.info,r.DefaultInfoText.line,r.DefaultInfoText.char),i}ActionString(t){let e=this.Clone();for(let r of e.DataArray)r.text=t(r.text);return e}toLocaleLowerCase(t){return this.ActionString(e=>e.toLocaleLowerCase(t))}toLocaleUpperCase(t){return this.ActionString(e=>e.toLocaleUpperCase(t))}toUpperCase(){return this.ActionString(t=>t.toUpperCase())}toLowerCase(){return this.ActionString(t=>t.toLowerCase())}normalize(){return this.ActionString(t=>t.normalize())}StringIndexer(t,e){t instanceof RegExp&&(t=new RegExp(t,t.flags.replace("g","")));let r=[],i=this.OneString,a=i.match(t),o=0,s=0;for(;(e==null||s<e)&&a?.[0]?.length;){let g=[...a[0]].length,j=this.charLength(a.index);r.push({index:j+o,length:g}),i=i.slice(a.index+a[0].length),o+=j+g,a=i.match(t),s++}return r}RegexInString(t){return t instanceof RegExp?t:new l("n",t).unicode.eq}split(t,e){let r=this.StringIndexer(this.RegexInString(t),e),i=[],a=0;for(let o of r)i.push(this.CutString(a,o.index)),a=o.index+o.length;return i.push(this.CutString(a)),i}repeat(t){let e=this.Clone();for(let r=0;r<t;r++)e.AddClone(this.Clone());return e}static join(t){let e=new l;for(let r of t)e.AddClone(r);return e}replaceWithTimes(t,e,r){let i=this.StringIndexer(t,r),a=new l,o=0;for(let s of i)a=a.ClonePlus(this.CutString(o,s.index),e),o=s.index+s.length;return a.AddClone(this.CutString(o)),a}replace(t,e){return this.replaceWithTimes(this.RegexInString(t),e,t instanceof RegExp?void 0:1)}replacer(t,e){let r=this.Clone(),i;function a(){i=r.match(t)}a();let o=new l(r.StartInfo);for(;i;)o.Plus(r.substring(0,i.index)),o.Plus(e(i)),r=r.substring(i.index+i[0].length),a();return o.Plus(r),o}async replacerAsync(t,e){let r=this.Clone(),i;function a(){i=r.match(t)}a();let o=new l(r.StartInfo);for(;i;)o.Plus(r.substring(0,i.index)),o.Plus(await e(i)),r=r.substring(i.index+i[0].length),a();return o.Plus(r),o}replaceAll(t,e){return this.replaceWithTimes(this.RegexInString(t),e)}matchAll(t){let e=this.StringIndexer(t),r=[];for(let i of e)r.push(this.substr(i.index,i.length));return r}match(t){if(t instanceof RegExp&&t.global)return this.matchAll(t);let e=this.OneString.match(t);if(e==null)return null;let r=[];r[0]=this.substr(e.index,e.shift().length),r.index=e.index,r.input=this.Clone();let i=r[0].Clone();for(let a in e){if(isNaN(Number(a)))break;let o=e[a];if(o==null){r.push(o);continue}let s=i.indexOf(o);r.push(i.substr(s,o.length)),i=i.substring(s)}return r}toString(){return this.OneString}extractInfo(t="<line>"){return this.DefaultInfoText.info.split(t).pop().trim()}debugLine({message:t,text:e,location:r,line:i,col:a}){let o=this.getLine(i??r?.line??1),s=a??r?.column??0;o.startsWith("//")&&(o=this.getLine((i??r?.line)-1),s=0);let g=o.at(s-1).DefaultInfoText;return`${e||t}, on file ->
${u.fullWebSitePath+o.extractInfo()}:${g.line}:${g.char}${r?.lineText?`
Line: "`+r.lineText.trim()+'"':""}`}StringWithTack(t){return V(this,t)}StringTack(t,e,r){return Z(this,t,e,r)}}});var rt=c(()=>{});function E(n){for(;n.includes("  ");)n=n.replace(/ {2}/gi," ");return n=n.replace(/\r\n|\n/gi,""),n=n.replace(/, /gi,","),n=n.replace(/: /gi,":"),n=n.replace(/ \{/gi,"{"),n=n.replace(/\{ /gi,"{"),n=n.replace(/; /gi,";"),n=n.replace(/\/\*.*?\*\//gms,""),n.trim()}var nt=c(()=>{});import Ce from"markdown-it";import De from"highlight.js";import ve from"markdown-it-anchor";import Fe from"@sindresorhus/slugify";import We from"markdown-it-attrs";import je from"markdown-it-abbr";async function ot(){for(let n of vt){let t=(await h.readFile(it+n+".css")).replace(/(\n\.markdown-body {)|(^.markdown-body {)/gm,e=>e+"padding:20px;")+`
            .code-copy>div {
                text-align:right;
                margin-bottom:-30px;
                margin-right:10px;
                opacity:0;
            }
            .code-copy:hover>div {
                opacity:1;
            }
            .code-copy>div a:focus {
                color:#6bb86a
            }`;await h.writeFile(it+n+".min.css",E(t))}}function Rt(n,t){let[e,r,i]=n.split(/(}|\*\/).hljs{/),a=n[e.length]=="}"?"}":"*/";return[e+a,".hljs{"+(i??r),".hljs{"+t.split(/(}|\*\/).hljs{/).pop()]}async function Ft(n){let t=n.split("|");if(t.length==1)return n;let e=t[2]||t.slice(0,2).join("~").replace("/","-");if(await h.existsFile(D+e+".css"))return e;let r=await h.readFile(D+t[0]+".css"),i=await h.readFile(D+t[1]+".css"),[a,o,s]=Rt(i,r),g=`${a}@media(prefers-color-scheme:dark){${o}}@media(prefers-color-scheme:light){${s}}`;return await h.writeFile(D+e+".css",g),e}function at(){return Ft("atom-one-light|atom-one-dark|atom-one")}var vt,it,D,st=c(()=>{et();rt();M();C();nt();L();vt=["","-dark","-light"],it=A+"node_modules/github-markdown-css/github-markdown";D=A+"node_modules/highlight.js/styles/"});var Ot={};var lt=c(async()=>{st();await ot();await at()});import{chdir as Wt,cwd as Et}from"process";var jt=Et().split("/");function ut(n){if(jt.at(-n)=="node_modules")return Wt("../".repeat(n)),!0}ut(2)||ut(3);lt();
