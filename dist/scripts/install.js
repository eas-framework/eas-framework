var it=Object.defineProperty,st=Object.defineProperties;var ot=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var at=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable;var R=(n,t,e)=>t in n?it(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,E=(n,t)=>{for(var e in t||(t={}))at.call(t,e)&&R(n,e,t[e]);if($)for(var e of $(t))lt.call(t,e)&&R(n,e,t[e]);return n},j=(n,t)=>st(n,ot(t));var g=(n,t)=>()=>(n&&(t=n(n=0)),t);var ct,c,k=g(()=>{ct=!0,c=new Proxy(console,{get(n,t,e){return ct?n[t]:()=>{}}})});import h,{Dirent as Et}from"fs";import ut from"path";function y(n){return new Promise(t=>{h.stat(n,(e,r)=>{t(Boolean(r))})})}function N(n,t,e,r={}){return new Promise(i=>{h.stat(n,(s,o)=>{s&&!e&&c.error(s),i(t&&o?o[t]:o||r)})})}async function ft(n,t=!0){return(await N(n,null,!0)).isFile?.()&&t}function M(n){return new Promise(t=>{h.mkdir(n,e=>{e&&c.error(e),t(!e)})})}function gt(n){return new Promise(t=>{h.rmdir(n,e=>{e&&c.error(e),t(!e)})})}function W(n){return new Promise(t=>{h.unlink(n,e=>{e&&c.error(e),t(!e)})})}async function ht(n){return await y(n)?await W(n):!1}function pt(n,t={}){return new Promise(e=>{h.readdir(n,t,(r,i)=>{r&&c.error(r),e(i||[])})})}async function B(n){return await y(n)?!1:await M(n)}function q(n,t){return new Promise(e=>{h.writeFile(n,t,r=>{r&&c.error(r),e(!r)})})}async function mt(n,t){try{return await q(n,JSON.stringify(t))}catch(e){c.error(e)}return!1}function J(n,t="utf8"){return new Promise(e=>{h.readFile(n,t,(r,i)=>{r&&c.error(r),e(i||"")})})}async function dt(n,t){try{return JSON.parse(await J(n,t))}catch(e){c.error(e)}return{}}async function bt(n,t=""){if(n=ut.dirname(n),!await y(t+n)){let e=n.split(/\\|\//),r="";for(let i of e)r.length&&(r+="/"),r+=i,await B(t+r)}}var u,C=g(()=>{k();u=j(E({},h.promises),{exists:y,existsFile:ft,stat:N,mkdir:M,mkdirIfNotExists:B,writeFile:q,writeJsonFile:mt,readFile:J,readJsonFile:dt,rmdir:gt,unlink:W,unlinkIfExists:ht,readdir:pt,makePathReal:bt})});import{cwd as xt}from"process";import w from"path";import{fileURLToPath as yt}from"url";function St(n){return w.dirname(yt(n))}function L(){return w.join(T,I,"/")}function x(n){return L()+n+"/"}var v,I,b,A,H,At,wt,Tt,T,S,P,m,f,O=g(()=>{C();v=w.join(St(import.meta.url),"/SystemData"),I="WebSite",b="WWW",A="Logs",H="node_modules",At=v+`/${b}Compile/`,wt=v+`/${A}Compile/`,Tt=v+`/${H}Compile/`,T=xt()+"/";S=L();P={Static:[x(b),At,b],Logs:[x(A),wt,A],node_modules:[x("node_modules"),Tt,H],get[b](){return P.Static}},m={page:"page",model:"mode",component:"inte"},f={pageTypes:m,pageTypesArray:[],pageCodeFile:{page:[m.page+".js",m.page+".ts"],model:[m.model+".js",m.model+".ts"],component:[m.component+".js",m.component+".ts"]},pageCodeFileArray:[],partExtensions:["serv","api"],ReqFileTypes:{js:"serv.js",ts:"serv.ts","api-ts":"api.js","api-js":"api.ts"},ReqFileTypesArray:[],get WebSiteFolder(){return I},get fullWebSitePath(){return S},set WebSiteFolder(n){I=n,S=L(),P.Static[0]=x(b),P.Logs[0]=x(A)},get tsConfig(){return S+"tsconfig.json"},async tsConfigFile(){if(await u.existsFile(this.tsConfig))return await u.readFile(this.tsConfig)},relative(n){return w.relative(S,n)}};f.pageTypesArray=Object.values(f.pageTypes);f.pageCodeFileArray=Object.values(f.pageCodeFile).flat();f.ReqFileTypesArray=Object.values(f.ReqFileTypes)});var l,U=g(()=>{O();l=class{constructor(t,e){this.DataArray=[];this.InfoText=null;this.OnLine=1;this.OnChar=1;typeof t=="string"?this.InfoText=t:t&&this.setDefault(t),e&&this.AddFileText(e,this.DefaultInfoText.info)}static get emptyInfo(){return{info:"",line:0,char:0}}setDefault(t=this.DefaultInfoText){this.InfoText=t.info,this.OnLine=t.line,this.OnChar=t.char}getDataArray(){return this.DataArray}get DefaultInfoText(){return!this.DataArray.find(t=>t.info)&&this.InfoText!=null?{info:this.InfoText,line:this.OnLine,char:this.OnChar}:this.DataArray[this.DataArray.length-1]??l.emptyInfo}get StartInfo(){return this.DataArray[0]??this.DefaultInfoText}get OneString(){let t="";for(let e of this.DataArray)t+=e.text;return t}get eq(){return this.OneString}get lineInfo(){let t=this.DefaultInfoText,e=t.info.split("<line>");return e.push(f.fullWebSitePath+e.pop()),`${e.join("<line>")}:${t.line}:${t.char}`}get length(){return this.DataArray.length}Clone(){let t=new l(this.StartInfo);for(let e of this.DataArray)t.AddTextAfter(e.text,e.info,e.line,e.char);return t}AddClone(t){this.DataArray.push(...t.DataArray),this.setDefault({info:t.InfoText,line:t.OnLine,char:t.OnChar})}static concat(...t){let e=new l;for(let r of t)r instanceof l?e.AddClone(r):e.AddTextAfter(String(r));return e}ClonePlus(...t){return l.concat(this.Clone(),...t)}Plus(...t){let e=this.DefaultInfoText;for(let r of t)r instanceof l?(e=r.DefaultInfoText,this.AddClone(r)):this.AddTextAfter(String(r),e.info,e.line,e.char);return this}Plus$(t,...e){let r=this.DefaultInfoText;for(let i in e){let s=t[i],o=e[i];this.AddTextAfter(s,r?.info,r?.line,r?.char),o instanceof l?(this.AddClone(o),r=o.DefaultInfoText):o!=null&&this.AddTextAfter(String(o),r?.info,r?.line,r?.char)}return this.AddTextAfter(t[t.length-1],r?.info,r?.line,r?.char),this}AddTextAction(t,e,r=this.DefaultInfoText.info,i=0,s=1){let o=[];for(let a of[...t])o.push({text:a,info:r,line:i,char:s}),s++,a==`
`&&(i++,s=1);this.DataArray[e](...o)}AddTextAfter(t,e,r,i){return this.AddTextAction(t,"push",e,r,i),this}AddTextAfterNoTrack(t){for(let e of t)this.DataArray.push({text:e,info:"",line:0,char:0});return this}AddTextBefore(t,e,r,i){return this.AddTextAction(t,"unshift",e,r,i),this}AddTextBeforeNoTrack(t){let e=[];for(let r of t)e.push({text:r,info:"",line:0,char:0});return this.DataArray.unshift(...e),this}AddFileText(t,e=this.DefaultInfoText.info){let r=1,i=1;for(let s of[...t])this.DataArray.push({text:s,info:e,line:r,char:i}),i++,s==`
`&&(r++,i=1)}CutString(t=0,e=this.length){let r=new l(this.StartInfo);return r.DataArray.push(...this.DataArray.slice(t,e)),r}substring(t,e){return isNaN(e)?e=void 0:e=Math.abs(e),isNaN(t)?t=void 0:t=Math.abs(t),this.CutString(t,e)}substr(t,e){return t<0&&(t=this.length-t),this.substring(t,e!=null?e+t:e)}slice(t,e){return t<0&&(t=this.length-t),e<0&&(t=this.length-t),this.substring(t,e)}charAt(t){return t||(t=0),this.CutString(t,t+1)}at(t){return this.charAt(t)}charCodeAt(t){return this.charAt(t).OneString.charCodeAt(0)}codePointAt(t){return this.charAt(t).OneString.codePointAt(0)}*[Symbol.iterator](){for(let t of this.DataArray){let e=new l;e.DataArray.push(t),yield e}}getLine(t,e=!0){return this.split(`
`)[t-+e]}charLength(t){if(t<=0)return t;let e=0;for(let r of this.DataArray)if(e++,t-=r.text.length,t<=0)return e}indexOf(t){return this.charLength(this.OneString.indexOf(t))}lastIndexOf(t){return this.charLength(this.OneString.lastIndexOf(t))}unicodeMe(t){let e="";for(let r of t)e+="\\u"+("000"+r.charCodeAt(0).toString(16)).slice(-4);return e}get unicode(){let t=new l;for(let e of this.DataArray)t.AddTextAfter(this.unicodeMe(e.text),e.info,e.line,e.char);return t}search(t){return this.charLength(this.OneString.search(t))}startsWith(t,e){return this.OneString.startsWith(t,e)}endsWith(t,e){return this.OneString.endsWith(t,e)}includes(t,e){return this.OneString.includes(t,e)}trimStart(){let t=this.Clone();t.setDefault();for(let e=0;e<t.DataArray.length;e++){let r=t.DataArray[e];if(r.text.trim()=="")t.DataArray.shift(),e--;else{r.text=r.text.trimStart();break}}return t}trimLeft(){return this.trimStart()}trimEnd(){let t=this.Clone();t.setDefault();for(let e=t.DataArray.length-1;e>=0;e--){let r=t.DataArray[e];if(r.text.trim()=="")t.DataArray.pop();else{r.text=r.text.trimEnd();break}}return t}trimRight(){return this.trimEnd()}trim(){return this.trimStart().trimEnd()}SpaceOne(t){let e=this.at(0),r=this.at(this.length-1),i=this.Clone().trim();return e.eq&&i.AddTextBefore(t||e.eq,e.DefaultInfoText.info,e.DefaultInfoText.line,e.DefaultInfoText.char),r.eq&&i.AddTextAfter(t||r.eq,r.DefaultInfoText.info,r.DefaultInfoText.line,r.DefaultInfoText.char),i}ActionString(t){let e=this.Clone();for(let r of e.DataArray)r.text=t(r.text);return e}toLocaleLowerCase(t){return this.ActionString(e=>e.toLocaleLowerCase(t))}toLocaleUpperCase(t){return this.ActionString(e=>e.toLocaleUpperCase(t))}toUpperCase(){return this.ActionString(t=>t.toUpperCase())}toLowerCase(){return this.ActionString(t=>t.toLowerCase())}normalize(){return this.ActionString(t=>t.normalize())}StringIndexer(t,e){t instanceof RegExp&&(t=new RegExp(t,t.flags.replace("g","")));let r=[],i=this.OneString,s=i.match(t),o=0,a=0;for(;(e==null||a<e)&&s?.[0]?.length;){let p=[...s[0]].length,d=this.charLength(s.index);r.push({index:d+o,length:p}),i=i.slice(s.index+s[0].length),o+=d+p,s=i.match(t),a++}return r}RegexInString(t){return t instanceof RegExp?t:new l("n",t).unicode.eq}split(t,e){let r=this.StringIndexer(this.RegexInString(t),e),i=[],s=0;for(let o of r)i.push(this.CutString(s,o.index)),s=o.index+o.length;return i.push(this.CutString(s)),i}repeat(t){let e=this.Clone();for(let r=0;r<t;r++)e.AddClone(this.Clone());return e}replaceWithTimes(t,e,r){let i=this.StringIndexer(t,r),s=new l,o=0;for(let a of i)s=s.ClonePlus(this.CutString(o,a.index),e),o=a.index+a.length;return s.AddClone(this.CutString(o)),s}replace(t,e){return this.replaceWithTimes(this.RegexInString(t),e,t instanceof RegExp?void 0:1)}replacer(t,e){let r=this.Clone(),i;function s(){i=r.match(t)}s();let o=new l(r.StartInfo);for(;i;)o.Plus(r.substring(0,i.index)),o.Plus(e(i)),r=r.substring(i.index+i[0].length),s();return o.Plus(r),o}replaceAll(t,e){return this.replaceWithTimes(this.RegexInString(t),e)}matchAll(t){let e=this.StringIndexer(t),r=[];for(let i of e)r.push(this.substr(i.index,i.length));return r}match(t){if(t instanceof RegExp&&t.global)return this.matchAll(t);let e=this.OneString.match(t);if(e==null)return null;let r=[];r[0]=this.substr(e.index,e.shift().length),r.index=e.index,r.input=this.Clone();let i=r[0].Clone();for(let s in e){if(isNaN(Number(s)))break;let o=e[s];if(o==null){r.push(o);continue}let a=i.indexOf(o);r.push(i.substr(a,o.length)),i=i.substring(a+o.length)}return r}toString(){return this.OneString}extractInfo(t="<line>"){return this.DefaultInfoText.info.split(t).pop().trim()}debugLine({message:t,loc:e,line:r,col:i,sassStack:s}){if(s){let d=s.match(/[0-9]+:[0-9]+/)[0].split(":").map(nt=>Number(nt));r=d[0],i=d[1]}let o=this.getLine(r??e?.line??1),a=i??e?.column??0;o.startsWith("//")&&(o=this.getLine((r??e?.line)-1),a=0);let p=o.DefaultInfoText;return`${t}, on file -> ${f.fullWebSitePath}${p.info.split("<line>").shift()}:${p.line}:${a}`}}});var X,Dt,Xt,G,z,K=g(()=>{X=["number","num","integer","int"],Dt=["boolean","bool"],Xt=["email","string","text",...X,...Dt],G={"string-length-range":[/^[0-9]+-[0-9]+$/,n=>n.split("-").map(t=>Number(t)),([n,t],e)=>e.length>=n&&e.length<=t,"string"],"number-range":[/^[0-9]+..[0-9]+$/,n=>n.split("..").map(t=>Number(t)),([n,t],e)=>e>=n&&e<=t,"number"],"multiple-choice-string":[/^string|text+[ ]*=>[ ]*(\|?[^|]+)+$/,n=>n.split("=>").pop().split("|").map(t=>`"${t.trim().replace(/"/gi,'\\"')}"`),(n,t)=>n.includes(t),"string"],"multiple-choice-number":[/^number|num|integer|int+[ ]*=>[ ]*(\|?[^|]+)+$/,n=>n.split("=>").pop().split("|").map(t=>parseFloat(t)),(n,t)=>n.includes(t),"number"]},z=[...X];for(let n in G){let t=G[n][3];z.includes(t)&&z.push(n)}});var Q=g(()=>{k()});function F(n){for(;n.includes("  ");)n=n.replace(/ {2}/gi," ");return n=n.replace(/\r\n|\n/gi,""),n=n.replace(/, /gi,","),n=n.replace(/: /gi,":"),n=n.replace(/ \{/gi,"{"),n=n.replace(/\{ /gi,"{"),n=n.replace(/; /gi,";"),n=n.replace(/\/\*.*?\*\//gms,""),n.trim()}var V=g(()=>{});import re from"markdown-it";import ie from"highlight.js";import ue from"markdown-it-anchor";import ge from"@sindresorhus/slugify";import pe from"markdown-it-attrs";import de from"markdown-it-abbr";async function Z(){for(let n of kt){let t=(await u.readFile(Y+n+".css")).replace(/(\n\.markdown-body {)|(^.markdown-body {)/gm,e=>e+"padding:20px;")+`
            .code-copy>div {
                text-align:right;
                margin-bottom:-30px;
                margin-right:10px;
                opacity:0;
            }
            .code-copy:hover>div {
                opacity:1;
            }
            .code-copy>div a:focus {
                color:#6bb86a
            }`;await u.writeFile(Y+n+".min.css",F(t))}}function Ct(n,t){let[e,r,i]=n.split(/(}|\*\/).hljs{/),s=n[e.length]=="}"?"}":"*/";return[e+s,".hljs{"+(i??r),".hljs{"+t.split(/(}|\*\/).hljs{/).pop()]}async function It(n){let t=n.split("|");if(t.length==1)return n;let e=t[2]||t.slice(0,2).join("~").replace("/","-");if(await u.existsFile(D+e+".css"))return e;let r=await u.readFile(D+t[0]+".css"),i=await u.readFile(D+t[1]+".css"),[s,o,a]=Ct(i,r),p=`${s}@media(prefers-color-scheme:dark){${o}}@media(prefers-color-scheme:light){${a}}`;return await u.writeFile(D+e+".css",p),e}function _(){return It("atom-one-light|atom-one-dark|atom-one")}var kt,Y,D,tt=g(()=>{U();K();Q();C();O();V();kt=["","-dark","-light"],Y=T+"node_modules/github-markdown-css/github-markdown";D=T+"node_modules/highlight.js/styles/"});var Pt={};var et=g(async()=>{tt();await Z();await _()});import{chdir as vt,cwd as Lt}from"process";var Ot=Lt().split("/");function rt(n){if(Ot.at(-n)=="node_modules")return vt("../".repeat(n)),!0}rt(2)||rt(3);et();
