var pt=Object.defineProperty,gt=Object.defineProperties;var ht=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable;var q=(n,t,e)=>t in n?pt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,x=(n,t)=>{for(var e in t||(t={}))ft.call(t,e)&&q(n,e,t[e]);if(U)for(var e of U(t))dt.call(t,e)&&q(n,e,t[e]);return n},S=(n,t)=>gt(n,ht(t));var u=(n,t)=>()=>(n&&(t=n(n=0)),t);var mt,p,F=u(()=>{mt=!0,p=new Proxy(console,{get(n,t,e){return t=="important"?n.error:mt&&t!="do-nothing"?n[t]:()=>{}}})});import h,{Dirent as qt}from"fs";import bt from"path";function y(n){return new Promise(t=>{h.stat(n,(e,r)=>{t(Boolean(r))})})}function G(n,t,e,r={}){return new Promise(i=>{h.stat(n,(o,a)=>{o&&!e&&p.error(o),i(t&&a?a[t]:a||r)})})}async function xt(n,t=!0){return(await G(n,void 0,!0)).isFile?.()&&t}function J(n){return new Promise(t=>{h.mkdir(n,e=>{e&&p.error(e),t(!e)})})}function St(n){return new Promise(t=>{h.rmdir(n,e=>{e&&p.error(e),t(!e)})})}function H(n){return new Promise(t=>{h.unlink(n,e=>{e&&p.error(e),t(!e)})})}async function yt(n){return await y(n)?await H(n):!1}function Tt(n,t={}){return new Promise(e=>{h.readdir(n,t,(r,i)=>{r&&p.error(r),e(i||[])})})}async function z(n){return await y(n)?!1:await J(n)}function _(n,t){return new Promise(e=>{h.writeFile(n,t,r=>{r&&p.error(r),e(!r)})})}async function wt(n,t){try{return await _(n,JSON.stringify(t))}catch(e){p.error(e)}return!1}function K(n,t="utf8"){return new Promise(e=>{h.readFile(n,t,(r,i)=>{r&&p.error(r),e(i||"")})})}async function At(n,t){try{return JSON.parse(await K(n,t))}catch(e){p.error(e)}return{}}async function Ct(n,t=""){if(n=bt.dirname(n),!await y(t+n)){let e=n.split(/\\|\//),r="";for(let i of e)r.length&&(r+="/"),r+=i,await z(t+r)}}var g,O=u(()=>{F();g=S(x({},h.promises),{exists:y,existsFile:xt,stat:G,mkdir:J,mkdirIfNotExists:z,writeFile:_,writeJsonFile:wt,readFile:K,readJsonFile:At,rmdir:St,unlink:H,unlinkIfExists:yt,readdir:Tt,makePathReal:Ct})});function W(n,t){let e=t.indexOf(n);return e==-1?[t]:[t.substring(0,e),t.substring(e+n.length)]}var E=u(()=>{});import{cwd as kt}from"process";import C from"path";import{fileURLToPath as Dt}from"url";function Lt(n){return C.dirname(Dt(n))}function B(){return C.join(k,j,"/")}function b(n){return B()+n+"/"}var N,j,m,w,Q,Pt,It,Mt,k,T,A,d,c,D=u(()=>{O();E();N=C.join(Lt(import.meta.url),"/SystemData"),j="WebSite",m="WWW",w="Logs",Q="node_modules",Pt=N+`/${m}Compile/`,It=N+`/${w}Compile/`,Mt=N+`/${Q}Compile/`,k=kt()+"/";T=B();A={Static:[b(m),Pt,m],Logs:[b(w),It,w],node_modules:[b("node_modules"),Mt,Q],get[m](){return A.Static}},d={page:"page",model:"mode",component:"inte"},c={pageTypes:d,pageTypesArray:[],pageCodeFile:{page:[d.page+".js",d.page+".ts"],model:[d.model+".js",d.model+".ts"],component:[d.component+".js",d.component+".ts"]},pageCodeFileArray:[],partExtensions:["serv","api"],ReqFileTypes:{js:"serv.js",ts:"serv.ts","api-ts":"api.js","api-js":"api.ts"},ReqFileTypesArray:[],get WebSiteFolder(){return j},get fullWebSitePath(){return T},set WebSiteFolder(n){j=n,T=B(),A.Static[0]=b(m),A.Logs[0]=b(w)},get tsConfig(){return T+"tsconfig.json"},async tsConfigFile(){if(await g.existsFile(this.tsConfig))return await g.readFile(this.tsConfig)},relative(n){return C.relative(T,n)}};c.pageTypesArray=Object.values(c.pageTypes);c.pageCodeFileArray=Object.values(c.pageCodeFile).flat();c.ReqFileTypesArray=Object.values(c.ReqFileTypes)});import{SourceMapConsumer as ne,SourceMapGenerator as ie}from"source-map";function X(n,t){let e=`sourceMappingURL=data:application/json;charset=utf-8;base64,${Buffer.from(n.toString()).toString("base64")}`;return t?e=`/*# ${e}*/`:e="//# "+e,`\r
`+e}var Y=u(()=>{});import{SourceMapGenerator as vt,SourceMapConsumer as le}from"source-map";import L from"path";var P,Z=u(()=>{D();E();Y();P=class{constructor(t,e=!0,r=!1,i=!1){this.filePath=t;this.httpSource=e;this.relative=r;this.isCss=i;this.lineCount=0;this.map=new vt({file:t.split(/\/|\\/).pop()}),e||(this.fileDirName=L.dirname(this.filePath))}getSource(t){return t=t.split("<line>").pop().trim(),this.httpSource?(c.pageTypesArray.includes(L.extname(t).substring(1))?t+=".source":t=W("/",t).pop()+"?source=true",L.normalize((this.relative?"":"/")+t.replace(/\\/gi,"/"))):L.relative(this.fileDirName,c.fullWebSitePath+t)}getRowSourceMap(){return this.map.toJSON()}mapAsURLComment(){return X(this.map,this.isCss)}}});function V(n,t,e,r){let i=new I(t,e,r);return i.addMappingFromTrack(n),i.getRowSourceMap()}function tt(n,t){let e=new I(t);return e.addMappingFromTrack(n),n.eq+e.mapAsURLComment()}var I,et=u(()=>{Z();I=class extends P{constructor(t,e=!1,r=!1){super(t,e,r),this.lineCount=1}addMappingFromTrack(t){let e=t.getDataArray(),r=e.length,i=!0;for(let o=0;o<r;o++){let{text:a,line:l,info:f}=e[o];if(a==`
`){this.lineCount++,i=!1;continue}!i&&l&&f&&(i=!0,this.map.addMapping({original:{line:l,column:0},generated:{line:this.lineCount,column:0},source:this.getSource(f)}))}}}});var s,rt=u(()=>{D();et();s=class{constructor(t,e){this.DataArray=[];this.InfoText=null;this.OnLine=1;this.OnChar=1;typeof t=="string"?this.InfoText=t:t&&this.setDefault(t),e&&this.AddFileText(e,this.DefaultInfoText.info)}static get emptyInfo(){return{info:"",line:0,char:0}}setDefault(t=this.DefaultInfoText){this.InfoText=t.info,this.OnLine=t.line,this.OnChar=t.char}getDataArray(){return this.DataArray}get DefaultInfoText(){return!this.DataArray.find(t=>t.info)&&this.InfoText!=null?{info:this.InfoText,line:this.OnLine,char:this.OnChar}:this.DataArray[this.DataArray.length-1]??s.emptyInfo}get StartInfo(){return this.DataArray[0]??this.DefaultInfoText}get OneString(){let t="";for(let e of this.DataArray)t+=e.text;return t}get eq(){return this.OneString}get lineInfo(){let t=this.DefaultInfoText,e=t.info.split("<line>");return e.push(c.fullWebSitePath+e.pop()),`${e.join("<line>")}:${t.line}:${t.char}`}get length(){return this.DataArray.length}Clone(){let t=new s(this.StartInfo);for(let e of this.DataArray)t.AddTextAfter(e.text,e.info,e.line,e.char);return t}AddClone(t){this.DataArray=this.DataArray.concat(t.DataArray),this.setDefault({info:t.InfoText,line:t.OnLine,char:t.OnChar})}static concat(...t){let e=new s;for(let r of t)r instanceof s?e.AddClone(r):e.AddTextAfter(String(r));return e}ClonePlus(...t){return s.concat(this.Clone(),...t)}Plus(...t){let e=this.DefaultInfoText;for(let r of t)r instanceof s?(e=r.DefaultInfoText,this.AddClone(r)):this.AddTextAfter(String(r),e.info,e.line,e.char);return this}Plus$(t,...e){let r=this.DefaultInfoText;for(let i in e){let o=t[i],a=e[i];this.AddTextAfter(o,r?.info,r?.line,r?.char),a instanceof s?(this.AddClone(a),r=a.DefaultInfoText):a!=null&&this.AddTextAfter(String(a),r?.info,r?.line,r?.char)}return this.AddTextAfter(t[t.length-1],r?.info,r?.line,r?.char),this}AddTextAction(t,e,r=this.DefaultInfoText.info,i=0,o=1){let a=[];for(let l of[...t])a.push({text:l,info:r,line:i,char:o}),o++,l==`
`&&(i++,o=1);this.DataArray[e](...a)}AddTextAfter(t,e,r,i){return this.AddTextAction(t,"push",e,r,i),this}AddTextAfterNoTrack(t,e=""){for(let r of t)this.DataArray.push({text:r,info:e,line:0,char:0});return this}AddTextBefore(t,e,r,i){return this.AddTextAction(t,"unshift",e,r,i),this}AddTextBeforeNoTrack(t,e=""){let r=[];for(let i of t)r.push({text:i,info:e,line:0,char:0});return this.DataArray.unshift(...r),this}AddFileText(t,e=this.DefaultInfoText.info){let r=1,i=1;for(let o of[...t])this.DataArray.push({text:o,info:e,line:r,char:i}),i++,o==`
`&&(r++,i=1)}CutString(t=0,e=this.length){let r=new s(this.StartInfo);return r.DataArray=r.DataArray.concat(this.DataArray.slice(t,e)),r}substring(t,e){return isNaN(e)?e=void 0:e=Math.abs(e),isNaN(t)?t=void 0:t=Math.abs(t),this.CutString(t,e)}substr(t,e){return t<0&&(t=this.length-t),this.substring(t,e!=null?e+t:e)}slice(t,e){return t<0&&(t=this.length-t),e<0&&(t=this.length-t),this.substring(t,e)}charAt(t){return t||(t=0),this.CutString(t,t+1)}at(t){return this.charAt(t)}charCodeAt(t){return this.charAt(t).OneString.charCodeAt(0)}codePointAt(t){return this.charAt(t).OneString.codePointAt(0)}*[Symbol.iterator](){for(let t of this.DataArray){let e=new s;e.DataArray.push(t),yield e}}getLine(t,e=!0){return this.split(`
`)[t-+e]}charLength(t){if(t<=0)return t;let e=0;for(let r of this.DataArray)if(e++,t-=r.text.length,t<=0)return e;return e}indexOf(t){return this.charLength(this.OneString.indexOf(t))}lastIndexOf(t){return this.charLength(this.OneString.lastIndexOf(t))}unicodeMe(t){let e="";for(let r of t)e+="\\u"+("000"+r.charCodeAt(0).toString(16)).slice(-4);return e}get unicode(){let t=new s;for(let e of this.DataArray)t.AddTextAfter(this.unicodeMe(e.text),e.info,e.line,e.char);return t}search(t){return this.charLength(this.OneString.search(t))}startsWith(t,e){return this.OneString.startsWith(t,e)}endsWith(t,e){return this.OneString.endsWith(t,e)}includes(t,e){return this.OneString.includes(t,e)}trimStart(){let t=this.Clone();t.setDefault();for(let e=0;e<t.DataArray.length;e++){let r=t.DataArray[e];if(r.text.trim()=="")t.DataArray.shift(),e--;else{r.text=r.text.trimStart();break}}return t}trimLeft(){return this.trimStart()}trimEnd(){let t=this.Clone();t.setDefault();for(let e=t.DataArray.length-1;e>=0;e--){let r=t.DataArray[e];if(r.text.trim()=="")t.DataArray.pop();else{r.text=r.text.trimEnd();break}}return t}trimRight(){return this.trimEnd()}trim(){return this.trimStart().trimEnd()}SpaceOne(t){let e=this.at(0),r=this.at(this.length-1),i=this.Clone().trim();return e.eq&&i.AddTextBefore(t||e.eq,e.DefaultInfoText.info,e.DefaultInfoText.line,e.DefaultInfoText.char),r.eq&&i.AddTextAfter(t||r.eq,r.DefaultInfoText.info,r.DefaultInfoText.line,r.DefaultInfoText.char),i}ActionString(t){let e=this.Clone();for(let r of e.DataArray)r.text=t(r.text);return e}toLocaleLowerCase(t){return this.ActionString(e=>e.toLocaleLowerCase(t))}toLocaleUpperCase(t){return this.ActionString(e=>e.toLocaleUpperCase(t))}toUpperCase(){return this.ActionString(t=>t.toUpperCase())}toLowerCase(){return this.ActionString(t=>t.toLowerCase())}normalize(){return this.ActionString(t=>t.normalize())}StringIndexer(t,e){t instanceof RegExp&&(t=new RegExp(t,t.flags.replace("g","")));let r=[],i=this.OneString,o=i.match(t),a=0,l=0,f=this.Clone();for(;(e==null||l<e)&&o?.[0]?.length;){let v=[...o[0]].length,R=f.charLength(o.index);r.push({index:R+a,length:v}),i=i.slice(o.index+o[0].length),f=f.CutString(R+v),a+=R+v,o=i.match(t),l++}return r}RegexInString(t){return t instanceof RegExp?t:new s("n",t).unicode.eq}split(t,e){let r=this.StringIndexer(this.RegexInString(t),e),i=[],o=0;for(let a of r)i.push(this.CutString(o,a.index)),o=a.index+a.length;return i.push(this.CutString(o)),i}repeat(t){let e=this.Clone();for(let r=0;r<t;r++)e.AddClone(this.Clone());return e}static join(t){let e=new s;for(let r of t)e.AddClone(r);return e}replaceWithTimes(t,e,r){let i=this.StringIndexer(t,r),o=new s,a=0;for(let l of i)o=o.ClonePlus(this.CutString(a,l.index),e),a=l.index+l.length;return o.AddClone(this.CutString(a)),o}replace(t,e){return this.replaceWithTimes(this.RegexInString(t),e,t instanceof RegExp?void 0:1)}replacer(t,e){let r=this.Clone(),i;function o(){i=r.match(t)}o();let a=new s(r.StartInfo);for(;i;)a.Plus(r.substring(0,i.index)),a.Plus(e(i)),r=r.substring(i.index+i[0].length),o();return a.Plus(r),a}async replacerAsync(t,e){let r=this.Clone(),i;function o(){i=r.match(t)}o();let a=new s(r.StartInfo);for(;i;)a.Plus(r.substring(0,i.index)),a.Plus(await e(i)),r=r.substring(i.index+i[0].length),o();return a.Plus(r),a}replaceAll(t,e){return this.replaceWithTimes(this.RegexInString(t),e)}matchAll(t){let e=this.StringIndexer(t),r=[];for(let i of e)r.push(this.substr(i.index,i.length));return r}match(t){if(t instanceof RegExp&&t.global)return this.matchAll(t);let e=this.OneString.match(t);if(e==null)return null;let r=[];r[0]=this.substr(e.index,e.shift().length),r.index=e.index,r.input=this.Clone();let i=r[0].Clone();for(let o in e){if(isNaN(Number(o)))break;let a=e[o];if(a==null){r.push(a);continue}let l=i.indexOf(a);r.push(i.substr(l,a.length)),i=i.substring(l)}return r}toString(){return this.OneString}extractInfo(t="<line>"){return this.DefaultInfoText.info.split(t).pop().trim()}originalPositionFor(t,e){let r=this.getLine(t);return r.startsWith("//")&&(r=this.getLine(t-1),e=0),S(x({},r.at(e-1).DefaultInfoText),{searchLine:r})}debugLine({message:t,text:e,location:r,line:i,col:o}){let a=this.originalPositionFor(i??r?.line??1,o??r?.column??0);return`${e||t}, on file -><color>${c.fullWebSitePath+a.searchLine.extractInfo()}:${a.line}:${a.char}${r?.lineText?`
Line: "`+r.lineText.trim()+'"':""}`}StringWithTack(t){return tt(this,t)}StringTack(t,e,r){return V(this,t,e,r)}}});import Te from"chalk";var nt=u(()=>{});function $(n){for(;n.includes("  ");)n=n.replace(/ {2}/gi," ");return n=n.replace(/\r\n|\n/gi,""),n=n.replace(/, /gi,","),n=n.replace(/: /gi,":"),n=n.replace(/ \{/gi,"{"),n=n.replace(/\{ /gi,"{"),n=n.replace(/; /gi,";"),n=n.replace(/\/\*.*?\*\//gms,""),n.trim()}var it=u(()=>{});import Le from"markdown-it";import Ie from"highlight.js";import Oe from"markdown-it-anchor";import Ee from"@sindresorhus/slugify";import Ne from"markdown-it-attrs";import $e from"markdown-it-abbr";async function at(){for(let n of Rt){let t=(await g.readFile(ot+n+".css")).replace(/(\n\.markdown-body {)|(^.markdown-body {)/gm,e=>e+"padding:20px;")+`
            .code-copy>div>a{
                margin-top: 25px;
                margin-right: 10px;
                position: relative;
                bottom: -7px;        
            }
            .code-copy>div {
                text-align:right;
                opacity:0;
                height:0;
            }
            .code-copy:hover>div {
                opacity:1;
            }
            .code-copy>div a:focus {
                color:#6bb86a
            }
            `;await g.writeFile(ot+n+".min.css",$(t))}}function Ft(n,t){let[e,r,i]=n.split(/(}|\*\/).hljs{/),o=n[e.length]=="}"?"}":"*/";return[e+o,".hljs{"+(i??r),".hljs{"+t.split(/(}|\*\/).hljs{/).pop()]}async function Ot(n){let t=n.split("|");if(t.length==1)return n;let e=t[2]||t.slice(0,2).join("~").replace("/","-");if(await g.existsFile(M+e+".css"))return e;let r=await g.readFile(M+t[0]+".css"),i=await g.readFile(M+t[1]+".css"),[o,a,l]=Ft(i,r),f=`${o}@media(prefers-color-scheme:dark){${a}}@media(prefers-color-scheme:light){${l}}`;return await g.writeFile(M+e+".css",f),e}function st(){return Ot("atom-one-light|atom-one-dark|atom-one")}var Rt,ot,M,lt=u(()=>{rt();nt();O();D();it();F();Rt=["","-dark","-light"],ot=k+"node_modules/github-markdown-css/github-markdown";M=k+"node_modules/highlight.js/styles/"});var Wt={};var ct=u(async()=>{lt();await at();await st()});import{chdir as Et,cwd as jt}from"process";var Nt=jt().split("/");function ut(n){if(Nt.at(-n)=="node_modules")return Et("../".repeat(n)),!0}ut(2)||ut(3);ct();
