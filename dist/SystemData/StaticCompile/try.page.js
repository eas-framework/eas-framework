function _optionalChain(e){let o,t=e[0],n=1;for(;n<e.length;){const s=e[n],i=e[n+1];if(n+=2,("optionalAccess"===s||"optionalCall"===s)&&null==t)return;"access"===s||"optionalAccess"===s?(o=t,t=i(t)):"call"!==s&&"optionalCall"!==s||(t=i(((...e)=>t.call(o,...e))),o=void 0)}return t}export default(e,o,t,n,s,i)=>async function(e){var{sendFile:o,safeWrite:t,write:n,setResponse:s,out_run_script:i,run_script_name:l,Response:a,Request:c,Post:r,Query:p,Session:u,Files:f,Cookies:_,RequireVar:C}=e;i.text+="<p> Session count: ",n(_optionalChain([u,"optionalAccess",e=>e.count])),i.text+=" </p>"};